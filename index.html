<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Получение ответов</title>

    <link rel = "icon" type="image/png" href = "/icon.png"> <!-- тут надо поставить иконку -->

    <link rel = "stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

    <script type="text/javascript">

        function getAnswers() {

            let text = document.getElementById('text').value;
            try{
                let res = ""
                let exercise = 0
                if(!isNaN(Number(text.substring(text.indexOf(`<div class="question-control" id="question-control`)+50, text.indexOf(`<div class="question-control" id="question-control`)+53)))){ exercise = Number(text.substring(text.indexOf(`<div class="question-control" id="question-control`)+50, text.indexOf(`<div class="question-control" id="question-control`)+53))}
                else if(!isNaN(Number(text.substring(text.indexOf(`<div class="question-control" id="question-control`)+50, text.indexOf(`<div class="question-control" id="question-control`)+52)))){ exercise = Number(text.substring(text.indexOf(`<div class="question-control" id="question-control`)+50, text.indexOf(`<div class="question-control" id="question-control`)+52))}
                else { exercise = Number(text.substring(text.indexOf(`<div class="question-control" id="question-control`)+50, text.indexOf(`<div class="question-control" id="question-control`)+51))}
                while(text.indexOf(`<ol class="answer-map" id="answer-map${exercise}" epub:type="list">`) != -1){
                    
                    res+=text.substring(text.indexOf(`<ol class="answer-map" id="answer-map${exercise}" epub:type="list">`)+`<ol class="answer-map" id="answer-map${exercise}" epub:type="list">`.length,text.indexOf("</ol>",text.indexOf(`<ol class="answer-map" id="answer-map${exercise}" epub:type="list">`)+`<ol class="answer-map" id="answer-map${exercise}" epub:type="list">`.length))
                    res+="---"
                    exercise+=1
                }
                document.getElementById('info').innerHTML = res;
            } catch(err){
                console.log(err)
                let res = "Ошибка. Перепроверьте введенные данные."
                document.getElementById('info').innerHTML = res;
            }
        }
    </script>

</head>
<body>
    <div id = "copyright">© Created by Wowkolty</div>

    <input id = "text" type="text" placeholder="Введите код фрейма ..." required = ''>

    <button id = "getAnswers" OnClick = "getAnswers();">Получить</button>

    <div class="separator">
    <span class="separator-text">Результат</span>
    </div>

    <div id = 'info'></div>

</body>
</html>